# Environment Variables for Vercel Deployment
# Copy these to your Vercel Dashboard → Settings → Environment Variables

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================

# Database Configuration
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/friendshipquiz?retryWrites=true&w=majority

# Authentication Secret (Generate a strong 32+ character secret)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-minimum-32-characters

# Environment
NODE_ENV=production

# =============================================================================
# OPTIONAL ENVIRONMENT VARIABLES
# =============================================================================

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security Configuration
BCRYPT_ROUNDS=12

# =============================================================================
# HOW TO SET UP ENVIRONMENT VARIABLES IN VERCEL
# =============================================================================

# 1. Go to your Vercel Dashboard
# 2. Select your project
# 3. Go to Settings → Environment Variables
# 4. Add each variable:
#    - Name: MONGODB_URI
#    - Value: mongodb+srv://username:password@cluster.mongodb.net/friendshipquiz
#    - Environment: Production, Preview, Development
# 5. Repeat for each variable above

# =============================================================================
# GENERATING JWT SECRET
# =============================================================================

# Method 1: Using Node.js
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Method 2: Using OpenSSL
# openssl rand -hex 32

# Method 3: Online Generator
# Visit: https://www.allkeysgenerator.com/Random/Security-Encryption-Key-Generator.aspx
# Select: 256-bit

# =============================================================================
# MONGODB ATLAS SETUP
# =============================================================================

# 1. Create account at mongodb.com/atlas
# 2. Create a new cluster (free M0 tier)
# 3. Create database user:
#    - Username: your-username
#    - Password: your-secure-password
# 4. Whitelist IP addresses:
#    - Add 0.0.0.0/0 (allow from anywhere)
# 5. Get connection string:
#    - Connect → Connect your application
#    - Copy connection string
#    - Replace <password> with your actual password

# =============================================================================
# VERCEL DEPLOYMENT CHECKLIST
# =============================================================================

# ✅ Code pushed to GitHub
# ✅ Vercel project created
# ✅ Environment variables set
# ✅ MongoDB Atlas configured
# ✅ Database user created
# ✅ Network access configured
# ✅ vercel.json configured
# ✅ API routes tested

# =============================================================================
# TESTING YOUR DEPLOYMENT
# =============================================================================

# Health Check: https://your-app.vercel.app/api/health
# Expected Response:
# {
#   "status": "OK",
#   "timestamp": "2025-08-03T...",
#   "uptime": 123.456
# }

# Frontend: https://your-app.vercel.app
# API Base: https://your-app.vercel.app/api

# =============================================================================
# TROUBLESHOOTING
# =============================================================================

# Issue: "Cannot connect to database"
# Solution: Check MONGODB_URI and MongoDB Atlas network access

# Issue: "JWT must be provided"
# Solution: Check JWT_SECRET environment variable

# Issue: "Function timeout"
# Solution: Check MongoDB connection and increase timeout in vercel.json

# Issue: "CORS error"
# Solution: Verify CORS configuration in backend/server.js
